

local ConnectionManager = {}

function ConnectionManager.safeDisconnect(connection)
    if connection and connection.Disconnect then
        connection:Disconnect()
    end
end

function ConnectionManager.manageConnection(flag, varName, runServiceFunc)
    if flag then
        if not _G[varName] then
            _G[varName] = RunService[runServiceFunc]:Connect(function()
            end)
        end
    else
        ConnectionManager.safeDisconnect(_G[varName])
        _G[varName] = nil
    end
end

return ConnectionManager
